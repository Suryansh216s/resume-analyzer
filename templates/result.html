<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis Results</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <h1>Resume Analysis Results</h1>
    <h3>Resume Strength Score: {{ result.resume_score }}/100</h3>
    <div class="score-bar">
        <div class="score-fill" style="width: {{ result.resume_score }}%;"></div>
    </div>
    <h3>Detected Job Domain: {{ result.domain | capitalize }}</h3>
    <h3>Extracted Resume Text (First 500 chars):</h3>
    <p>{{ result.resume_text }}</p>
    <h3>Keyword Cloud:</h3>
    <div class="cloud-container">
        <canvas id="keywordCloud" width="500" height="300" 
                data-matched='{{ result.matched_json | safe }}' 
                data-missing='{{ result.missing_json | safe }}'></canvas>
    </div>
    <h3>Matched Keywords:</h3>
    <ul>
        {% for keyword in result.matched %}
            <li>{{ keyword }}</li>
        {% endfor %}
    </ul>
    <h3>Missing Keywords:</h3>
    <ul>
        {% for keyword in result.missing %}
            <li>{{ keyword }}</li>
        {% endfor %}
    </ul>
    <h3>AI-Powered Suggestions ({{ result.domain | capitalize }}):</h3>
    <div class="suggestions">
        {{ result.suggestions | safe }}
    </div>
    <a href="/">Back to Home</a>
    <script src="https://cdn.jsdelivr.net/npm/wordcloud@1.2.2/src/wordcloud2.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>